pipeline {
  agent {
    docker {
      image 'maven:3.8.6-openjdk-11'
      args '-v /root/.m2:/root/.m2' //optional: to checkmaven dependencies
}
}
stages {
  stage('Checkout') {
    steps {
      git 'https://github.com/bimal-root/Jenkins-Zero-To-Hero.git'
} 
}
  stage('Build') {
    steps {
    // build mvn project
      sh 'mvn clean package'
}
}
  stage('Run') {
    steps {
   // start maven server to serve html file by using maven jetty plugin or Tomcat:
      sh 'mvn jetty:run'
}
}
}
post {
  always {
	// clean up
    cleanWs()
}
}
}
